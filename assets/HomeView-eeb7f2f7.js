import{m as Re,f as Ee,V as Me,a as He,b as Le,u as Ue}from"./forwardRefs-98aba70e.js";import{u as ze}from"./settings-8459af8a.js";import{g as B,c as Ge,a as je,m as L,h as We,b as $e,o as qe,d as ae,n as q,u as Z,e as ye,r as A,w as R,f as T,p as Ze,i as U,j as n,k as E,I as H,l as ne,q as he,s as Je,t as be,v as ke,x as xe,y as Ce,z as Se,A as Ve,B as pe,C as Ke,V as we,D as Xe,E as Pe,F as Q,G as Ye,H as Qe,J as et,K as tt,L as at,M as nt,N as lt,R as it,O as st,P as ot,Q as rt,S as ut,T as ct,U as dt,W as vt,X as ee,Y as Ie,Z as ft,_ as mt,$ as Ae,a0 as gt,a1 as yt,a2 as ht,a3 as bt,a4 as kt,a5 as J,a6 as Y,a7 as xt,a8 as Ct,a9 as St,aa as Vt,ab as ce,ac as pt,ad as wt,ae as C,af as Pt,ag as te,ah as de,ai as j,aj as It}from"./index-46117ca9.js";import{m as At,u as Tt,V as ve,a as W,b as fe}from"./VInput-637b74d5.js";function le(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",t=arguments.length>2?arguments[2]:void 0;return B()({name:t??Ge(je(e.replace(/__/g,"-"))),props:{tag:{type:String,default:s},...L()},setup(a,i){let{slots:l}=i;return()=>{var o;return We(a.tag,{class:[e,a.class],style:a.style},(o=l.default)==null?void 0:o.call(l))}}})}function ie(e){return $e()?(qe(e),!0):!1}function $(){const e=new Set,s=i=>{e.delete(i)};return{on:i=>{e.add(i);const l=()=>s(i);return ie(l),{off:l}},off:s,trigger:(...i)=>Promise.all(Array.from(e).map(l=>l(...i)))}}function Te(e){return typeof e=="function"?e():Z(e)}const _t=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Nt=Object.prototype.toString,Dt=e=>Nt.call(e)==="[object Object]",Ft=()=>{};function Bt(e){return e||ye()}function Ot(e,s=!0,t){const a=Bt(t);a?ae(e,a):s?e():q(e)}function Rt(e){var s;const t=Te(e);return(s=t==null?void 0:t.$el)!=null?s:t}const _e=_t?window:void 0;function Et(...e){let s,t,a,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([t,a,i]=e,s=_e):[s,t,a,i]=e,!s)return Ft;Array.isArray(t)||(t=[t]),Array.isArray(a)||(a=[a]);const l=[],o=()=>{l.forEach(u=>u()),l.length=0},f=(u,c,d,v)=>(u.addEventListener(c,d,v),()=>u.removeEventListener(c,d,v)),k=R(()=>[Rt(s),Te(i)],([u,c])=>{if(o(),!u)return;const d=Dt(c)?{...c}:c;l.push(...t.flatMap(v=>a.map(S=>f(u,v,S,d))))},{immediate:!0,flush:"post"}),g=()=>{k(),o()};return ie(g),g}function Mt(){const e=A(!1);return ye()&&ae(()=>{e.value=!0}),e}function Ht(e){const s=Mt();return T(()=>(s.value,!!e()))}function Lt(e={}){const{window:s=_e,requestPermissions:t=!0}=e,a=e,i=Ht(()=>!!s&&"Notification"in s),l=A(i.value&&"permission"in Notification&&Notification.permission==="granted"),o=A(null),f=async()=>{if(i.value)return!l.value&&Notification.permission!=="denied"&&await Notification.requestPermission()==="granted"&&(l.value=!0),l.value},{on:k,trigger:g}=$(),{on:u,trigger:c}=$(),{on:d,trigger:v}=$(),{on:S,trigger:p}=$(),V=async y=>{if(!i.value||!l.value)return;const h=Object.assign({},a,y);return o.value=new Notification(h.title||"",h),o.value.onclick=g,o.value.onshow=c,o.value.onerror=v,o.value.onclose=p,o.value},x=()=>{o.value&&o.value.close(),o.value=null};if(t&&Ot(f),ie(x),i.value&&s){const y=s.document;Et(y,"visibilitychange",h=>{h.preventDefault(),y.visibilityState==="visible"&&x()})}return{isSupported:i,notification:o,ensurePermissions:f,permissionGranted:l,show:V,close:x,onClick:k,onShow:u,onError:d,onClose:S}}const Ne=B()({name:"VCardActions",props:L(),setup(e,s){let{slots:t}=s;return Ze({VBtn:{slim:!0,variant:"text"}}),U(()=>{var a;return n("div",{class:["v-card-actions",e.class],style:e.style},[(a=t.default)==null?void 0:a.call(t)])}),{}}}),Ut=le("v-card-subtitle"),zt=le("v-card-title");const Gt=E({start:Boolean,end:Boolean,icon:H,image:String,text:String,...L(),...ne(),...he(),...Je(),...be(),...ke(),...xe({variant:"flat"})},"VAvatar"),me=B()({name:"VAvatar",props:Gt(),setup(e,s){let{slots:t}=s;const{themeClasses:a}=Ce(e),{colorClasses:i,colorStyles:l,variantClasses:o}=Se(e),{densityClasses:f}=Ve(e),{roundedClasses:k}=pe(e),{sizeClasses:g,sizeStyles:u}=Ke(e);return U(()=>n(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},a.value,i.value,f.value,k.value,g.value,o.value,e.class],style:[l.value,u.value,e.style]},{default:()=>{var c;return[e.image?n(we,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?n(Xe,{key:"icon",icon:e.icon},null):((c=t.default)==null?void 0:c.call(t))??e.text,Pe(!1,"v-avatar")]}})),{}}}),jt=E({appendAvatar:String,appendIcon:H,prependAvatar:String,prependIcon:H,subtitle:[String,Number],title:[String,Number],...L(),...ne()},"VCardItem"),Wt=B()({name:"VCardItem",props:jt(),setup(e,s){let{slots:t}=s;return U(()=>{var g;const a=!!(e.prependAvatar||e.prependIcon),i=!!(a||t.prepend),l=!!(e.appendAvatar||e.appendIcon),o=!!(l||t.append),f=!!(e.title!=null||t.title),k=!!(e.subtitle!=null||t.subtitle);return n("div",{class:["v-card-item",e.class],style:e.style},[i&&n("div",{key:"prepend",class:"v-card-item__prepend"},[t.prepend?n(Q,{key:"prepend-defaults",disabled:!a,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},t.prepend):a&&n(me,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),n("div",{class:"v-card-item__content"},[f&&n(zt,{key:"title"},{default:()=>{var u;return[((u=t.title)==null?void 0:u.call(t))??e.title]}}),k&&n(Ut,{key:"subtitle"},{default:()=>{var u;return[((u=t.subtitle)==null?void 0:u.call(t))??e.subtitle]}}),(g=t.default)==null?void 0:g.call(t)]),o&&n("div",{key:"append",class:"v-card-item__append"},[t.append?n(Q,{key:"append-defaults",disabled:!l,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},t.append):l&&n(me,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),$t=le("v-card-text"),qt=E({appendAvatar:String,appendIcon:H,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:H,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Ye(),...L(),...ne(),...Qe(),...et(),...tt(),...at(),...nt(),...he(),...lt(),...be(),...ke(),...xe({variant:"elevated"})},"VCard"),ge=B()({name:"VCard",directives:{Ripple:it},props:qt(),setup(e,s){let{attrs:t,slots:a}=s;const{themeClasses:i}=Ce(e),{borderClasses:l}=st(e),{colorClasses:o,colorStyles:f,variantClasses:k}=Se(e),{densityClasses:g}=Ve(e),{dimensionStyles:u}=ot(e),{elevationClasses:c}=rt(e),{loaderClasses:d}=ut(e),{locationStyles:v}=ct(e),{positionClasses:S}=dt(e),{roundedClasses:p}=pe(e),V=vt(e,t),x=T(()=>e.link!==!1&&V.isLink.value),y=T(()=>!e.disabled&&e.link!==!1&&(e.link||V.isClickable.value));return U(()=>{const h=x.value?"a":e.tag,_=!!(a.title||e.title!=null),F=!!(a.subtitle||e.subtitle!=null),w=_||F,O=!!(a.append||e.appendAvatar||e.appendIcon),M=!!(a.prepend||e.prependAvatar||e.prependIcon),N=!!(a.image||e.image),P=w||M||O,r=!!(a.text||e.text!=null);return ee(n(h,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":y.value},i.value,l.value,o.value,g.value,c.value,d.value,S.value,p.value,k.value,e.class],style:[f.value,u.value,v.value,e.style],href:V.href.value,onClick:y.value&&V.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var b;return[N&&n("div",{key:"image",class:"v-card__image"},[a.image?n(Q,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},a.image):n(we,{key:"image-img",cover:!0,src:e.image},null)]),n(ft,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:a.loader}),P&&n(Wt,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:a.item,prepend:a.prepend,title:a.title,subtitle:a.subtitle,append:a.append}),r&&n($t,{key:"text"},{default:()=>{var m;return[((m=a.text)==null?void 0:m.call(a))??e.text]}}),(b=a.default)==null?void 0:b.call(a),a.actions&&n(Ne,null,{default:a.actions}),Pe(y.value,"v-card")]}}),[[Ie("ripple"),y.value&&e.ripple]])}),{}}}),Zt=E({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Jt(e,s){const t={},a=i=>()=>{if(!mt)return Promise.resolve(!0);const l=i==="openDelay";return t.closeDelay&&window.clearTimeout(t.closeDelay),delete t.closeDelay,t.openDelay&&window.clearTimeout(t.openDelay),delete t.openDelay,new Promise(o=>{const f=parseInt(e[i]??0,10);t[i]=window.setTimeout(()=>{s==null||s(l),o(l)},f)})};return{runCloseDelay:a("closeDelay"),runOpenDelay:a("openDelay")}}const Kt=E({disabled:Boolean,modelValue:{type:Boolean,default:void 0},...Zt()},"VHover"),Xt=B()({name:"VHover",props:Kt(),emits:{"update:modelValue":e=>!0},setup(e,s){let{slots:t}=s;const a=Ae(e,"modelValue"),{runOpenDelay:i,runCloseDelay:l}=Jt(e,o=>!e.disabled&&(a.value=o));return()=>{var o;return(o=t.default)==null?void 0:o.call(t,{isHovering:a.value,props:{onMouseenter:i,onMouseleave:l}})}}});const Yt=E({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...At(),...Re()},"VTextarea"),Qt=B()({name:"VTextarea",directives:{Intersect:gt},inheritAttrs:!1,props:Yt(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,s){let{attrs:t,emit:a,slots:i}=s;const l=Ae(e,"modelValue"),{isFocused:o,focus:f,blur:k}=Tt(e),g=T(()=>typeof e.counterValue=="function"?e.counterValue(l.value):(l.value||"").toString().length),u=T(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function c(r,b){var m,I;!e.autofocus||!r||(I=(m=b[0].target)==null?void 0:m.focus)==null||I.call(m)}const d=A(),v=A(),S=yt(""),p=A(),V=T(()=>e.persistentPlaceholder||o.value||e.active);function x(){var r;p.value!==document.activeElement&&((r=p.value)==null||r.focus()),o.value||f()}function y(r){x(),a("click:control",r)}function h(r){a("mousedown:control",r)}function _(r){r.stopPropagation(),x(),q(()=>{l.value="",Ct(e["onClick:clear"],r)})}function F(r){var m;const b=r.target;if(l.value=b.value,(m=e.modelModifiers)!=null&&m.trim){const I=[b.selectionStart,b.selectionEnd];q(()=>{b.selectionStart=I[0],b.selectionEnd=I[1]})}}const w=A(),O=A(+e.rows),M=T(()=>["plain","underlined"].includes(e.variant));ht(()=>{e.autoGrow||(O.value=+e.rows)});function N(){e.autoGrow&&q(()=>{if(!w.value||!v.value)return;const r=getComputedStyle(w.value),b=getComputedStyle(v.value.$el),m=parseFloat(r.getPropertyValue("--v-field-padding-top"))+parseFloat(r.getPropertyValue("--v-input-padding-top"))+parseFloat(r.getPropertyValue("--v-field-padding-bottom")),I=w.value.scrollHeight,z=parseFloat(r.lineHeight),K=Math.max(parseFloat(e.rows)*z+m,parseFloat(b.getPropertyValue("--v-input-control-height"))),X=parseFloat(e.maxRows)*z+m||1/0,D=Vt(I??0,K,X);O.value=Math.floor((D-m)/z),S.value=St(D)})}ae(N),R(l,N),R(()=>e.rows,N),R(()=>e.maxRows,N),R(()=>e.density,N);let P;return R(w,r=>{r?(P=new ResizeObserver(N),P.observe(w.value)):P==null||P.disconnect()}),bt(()=>{P==null||P.disconnect()}),U(()=>{const r=!!(i.counter||e.counter||e.counterValue),b=!!(r||i.details),[m,I]=kt(t),{modelValue:z,...K}=ve.filterProps(e),X=Ee(e);return n(ve,J({ref:d,modelValue:l.value,"onUpdate:modelValue":D=>l.value=D,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":M.value},e.class],style:e.style},m,K,{centerAffix:O.value===1&&!M.value,focused:o.value}),{...i,default:D=>{let{id:G,isDisabled:se,isDirty:oe,isReadonly:De,isValid:Fe}=D;return n(Me,J({ref:v,style:{"--v-textarea-control-height":S.value},onClick:y,onMousedown:h,"onClick:clear":_,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},X,{id:G.value,active:V.value||oe.value,centerAffix:O.value===1&&!M.value,dirty:oe.value||e.dirty,disabled:se.value,focused:o.value,error:Fe.value===!1}),{...i,default:Be=>{let{props:{class:re,...ue}}=Be;return n(Y,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[e.prefix]),ee(n("textarea",J({ref:p,class:re,value:l.value,onInput:F,autofocus:e.autofocus,readonly:De.value,disabled:se.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:x,onBlur:k},ue,I),null),[[Ie("intersect"),{handler:c},null,{once:!0}]]),e.autoGrow&&ee(n("textarea",{class:[re,"v-textarea__sizer"],id:`${ue.id}-sizer`,"onUpdate:modelValue":Oe=>l.value=Oe,ref:w,readonly:!0,"aria-hidden":"true"},null),[[xt,l.value]]),e.suffix&&n("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:b?D=>{var G;return n(Y,null,[(G=i.details)==null?void 0:G.call(i,D),r&&n(Y,null,[n("span",null,null),n(He,{active:e.persistentCounter||o.value,value:g.value,max:u.value},i.counter)])])}:void 0})}),Le({},d,v,p)}}),ea=te("iframe",{width:"400",height:"225",src:"https://www.youtube-nocookie.com/embed/videoseries?si=SM6tE31ktEkKyslp&list=PL5OaXMC1xIlS6ZItNdZvuiEbEBhB3UrJ2",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""},null,-1),ia={__name:"HomeView",setup(e){const s=Ue(),{currentItem:t,items:a,timeleft:i}=ce(s),{setCurrentItem:l,countdown:o,setFinishedItem:f}=s,k=ze(),{selectedAlarmFile:g,notify:u}=ce(k),c={STOP:0,COUNTING:1,PAUSE:2},d=A(c.STOP);let v=0;const S=()=>{d.value===c.STOP&&a.value.length>0&&l(),d.value=c.COUNTING,v=setInterval(()=>{console.log("timer"),o(),i.value===0&&V()},1e3)},p=()=>{d.value=c.PAUSE,clearInterval(v)},V=()=>{clearInterval(v),d.value=c.STOP;const h=new Audio;if(h.src=g.value,h.play(),u.value){const{show:_,isSupported:F}=Lt({title:"事項完成",body:x.value,icon:new URL(""+new URL("sick_ghost-1f83bd63.png",import.meta.url).href,self.location).href});F.value&&_()}f(),a.value.length>0&&S()},x=T(()=>t.value.length>0?t.value:a.value.length>0?"點擊開始":"沒有事項"),y=T(()=>{const h=Math.floor(i.value/60).toString().padStart(2,"0"),_=(i.value%60).toString().padStart(2,"0");return h+":"+_});return(h,_)=>(pt(),wt(Pt,null,{default:C(()=>[n(fe,{class:"text-center"},{default:C(()=>[n(W,{cols:"12"},{default:C(()=>[n(Xt,null,{default:C(({isHovering:F,props:w})=>[n(ge,J(w,{color:F?"#F4F4F4":void 0}),{default:C(()=>[te("h1",null,de(x.value),1),te("h1",null,de(y.value),1)]),_:2},1040,["color"])]),_:1})]),_:1}),n(W,{cols:"12"},{default:C(()=>[n(j,{variant:"text",icon:"mdi-play",disabled:d.value===c.COUNTING||Z(t).length===0&&Z(a).length===0,onClick:S},null,8,["disabled"]),n(j,{variant:"text",icon:"mdi-pause",disabled:d.value!==c.COUNTING,onClick:p},null,8,["disabled"]),n(j,{variant:"text",icon:"mdi-skip-next",disabled:Z(t).length===0,onClick:V},null,8,["disabled"])]),_:1})]),_:1}),n(fe,null,{default:C(()=>[n(W,null,{default:C(()=>[n(ge,null,{default:C(()=>[n(Qt,{clearable:"",label:"Notes"}),n(Ne,null,{default:C(()=>[n(j,null,{default:C(()=>[It("Save")]),_:1})]),_:1})]),_:1})]),_:1}),n(W,{class:"ms-auto"},{default:C(()=>[ea]),_:1})]),_:1})]),_:1}))}};export{ia as default};
