import{aq as se,k as A,m as D,ar as le,as as re,g as E,f as m,i as j,j as l,X as K,ap as Y,at as oe,I as $,au as L,K as de,q as ue,v as ce,y as fe,S as ve,B as he,av as me,aw as ge,r as W,ax as be,ay as ye,az as Ie,w as pe,a9 as xe,Z as Ce,aA as _e,a6 as we,a5 as Pe,aB as Re,aC as Ve}from"./index-46117ca9.js";import{c as Be,d as Fe,u as Se,e as $e}from"./VInput-637b74d5.js";class O{constructor(t){let{x:a,y:s,width:n,height:i}=t;this.x=a,this.y=s,this.width=n,this.height=i}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Le(e){const t=e.getBoundingClientRect(),a=getComputedStyle(e),s=a.transform;if(s){let n,i,r,o,d;if(s.startsWith("matrix3d("))n=s.slice(9,-1).split(/, /),i=+n[0],r=+n[5],o=+n[12],d=+n[13];else if(s.startsWith("matrix("))n=s.slice(7,-1).split(/, /),i=+n[0],r=+n[3],o=+n[4],d=+n[5];else return new O(t);const u=a.transformOrigin,v=t.x-o-(1-i)*parseFloat(u),f=t.y-d-(1-r)*parseFloat(u.slice(u.indexOf(" ")+1)),I=i?t.width/i:e.offsetWidth+1,p=r?t.height/r:e.offsetHeight+1;return new O({x:v,y:f,width:I,height:p})}else return new O(t)}function We(e,t,a){if(typeof e.animate>"u")return{finished:Promise.resolve()};let s;try{s=e.animate(t,a)}catch{return{finished:Promise.resolve()}}return typeof s.finished>"u"&&(s.finished=new Promise(n=>{s.onfinish=()=>{n(s)}})),s}const Oe="cubic-bezier(0.4, 0, 0.2, 1)",H=parseInt("1500"),Te=parseInt("300"),Ne=se("list",{state:()=>({items:[],id:1,timeleft:H,break:!1,finishedItems:[],currentItem:""}),actions:{addItem(e){this.items.push({id:this.id++,name:e,edit:!1,model:e})},findIndexById(e){return this.items.findIndex(t=>t.id===e)},editItem(e){const t=this.findIndexById(e);t<0||(this.items[t].edit=!0)},delItem(e){const t=this.findIndexById(e);t<0||this.items.splice(t,1)},cancelEditItem(e){const t=this.findIndexById(e);t<0||(this.items[t].model=this.items[t].name,this.items[t].edit=!1)},confirmEditItem(e){const t=this.findIndexById(e);t<0||(this.items[t].name=this.items[t].model,this.items[t].edit=!1)},setCurrentItem(){this.currentItem=this.break?"休息一下":this.items.shift().name},countdown(){this.timeleft--},setFinishedItem(){this.break||this.finishedItems.push({name:this.currentItem,id:this.id++}),this.currentItem="",this.items.length>0&&(this.break=!this.break),this.timeleft=this.break?Te:H},delFinishedItem(e){const t=this.finishedItems.findIndex(a=>a.id===e);t<0||this.finishedItems.splice(t,1)}},persist:{key:"pomodoro-list"}});const ke=A({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...D(),...le({transition:{component:re}})},"VCounter"),Ue=E()({name:"VCounter",functional:!0,props:ke(),setup(e,t){let{slots:a}=t;const s=m(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return j(()=>l(oe,{transition:e.transition},{default:()=>[K(l("div",{class:["v-counter",e.class],style:e.style},[a.default?a.default({counter:s.value,max:e.max,value:e.value}):s.value]),[[Y,e.active]])]})),{}}});const Ae=A({floating:Boolean,...D()},"VFieldLabel"),S=E()({name:"VFieldLabel",props:Ae(),setup(e,t){let{slots:a}=t;return j(()=>l(Be,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},a)),{}}}),De=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Ee=A({appendInnerIcon:$,bgColor:String,clearable:Boolean,clearIcon:{type:$,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:$,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>De.includes(e)},"onClick:clear":L(),"onClick:appendInner":L(),"onClick:prependInner":L(),...D(),...de(),...ue(),...ce()},"VField"),je=E()({name:"VField",inheritAttrs:!1,props:{id:String,...Fe(),...Ee()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:a,emit:s,slots:n}=t;const{themeClasses:i}=fe(e),{loaderClasses:r}=ve(e),{focusClasses:o,isFocused:d,focus:u,blur:v}=Se(e),{InputIcon:f}=$e(e),{roundedClasses:I}=he(e),{rtlClasses:p}=me(),_=m(()=>e.dirty||e.active),w=m(()=>!e.singleLine&&!!(e.label||n.label)),Z=ge(),g=m(()=>e.id||`input-${Z}`),G=m(()=>`${g.value}-messages`),q=W(),P=W(),M=W(),N=m(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:J,backgroundColorStyles:Q}=be(ye(e,"bgColor")),{textColorClasses:U,textColorStyles:z}=Ie(m(()=>e.error||e.disabled?void 0:_.value&&d.value?e.color:e.baseColor));pe(_,x=>{if(w.value){const h=q.value.$el,b=P.value.$el;requestAnimationFrame(()=>{const y=Le(h),c=b.getBoundingClientRect(),V=c.x-y.x,B=c.y-y.y-(y.height/2-c.height/2),C=c.width/.75,F=Math.abs(C-y.width)>1?{maxWidth:xe(C)}:void 0,te=getComputedStyle(h),X=getComputedStyle(b),ne=parseFloat(te.transitionDuration)*1e3||150,ie=parseFloat(X.getPropertyValue("--v-field-label-scale")),ae=X.getPropertyValue("color");h.style.visibility="visible",b.style.visibility="hidden",We(h,{transform:`translate(${V}px, ${B}px) scale(${ie})`,color:ae,...F},{duration:ne,easing:Oe,direction:x?"normal":"reverse"}).finished.then(()=>{h.style.removeProperty("visibility"),b.style.removeProperty("visibility")})})}},{flush:"post"});const R=m(()=>({isActive:_,isFocused:d,controlRef:M,blur:v,focus:u}));function ee(x){x.target!==document.activeElement&&x.preventDefault()}return j(()=>{var V,B,C;const x=e.variant==="outlined",h=n["prepend-inner"]||e.prependInnerIcon,b=!!(e.clearable||n.clear),y=!!(n["append-inner"]||e.appendInnerIcon||b),c=()=>n.label?n.label({...R.value,label:e.label,props:{for:g.value}}):e.label;return l("div",Pe({class:["v-field",{"v-field--active":_.value,"v-field--appended":y,"v-field--center-affix":e.centerAffix??!N.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":h,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!c(),[`v-field--variant-${e.variant}`]:!0},i.value,J.value,o.value,r.value,I.value,p.value,e.class],style:[Q.value,e.style],onClick:ee},a),[l("div",{class:"v-field__overlay"},null),l(Ce,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:n.loader}),h&&l("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&l(f,{key:"prepend-icon",name:"prependInner"},null),(V=n["prepend-inner"])==null?void 0:V.call(n,R.value)]),l("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&w.value&&l(S,{key:"floating-label",ref:P,class:[U.value],floating:!0,for:g.value,style:z.value},{default:()=>[c()]}),l(S,{ref:q,for:g.value},{default:()=>[c()]}),(B=n.default)==null?void 0:B.call(n,{...R.value,props:{id:g.value,class:"v-field__input","aria-describedby":G.value},focus:u,blur:v})]),b&&l(_e,{key:"clear"},{default:()=>[K(l("div",{class:"v-field__clearable",onMousedown:F=>{F.preventDefault(),F.stopPropagation()}},[n.clear?n.clear():l(f,{name:"clear"},null)]),[[Y,e.dirty]])]}),y&&l("div",{key:"append",class:"v-field__append-inner"},[(C=n["append-inner"])==null?void 0:C.call(n,R.value),e.appendInnerIcon&&l(f,{key:"append-icon",name:"appendInner"},null)]),l("div",{class:["v-field__outline",U.value],style:z.value},[x&&l(we,null,[l("div",{class:"v-field__outline__start"},null),w.value&&l("div",{class:"v-field__outline__notch"},[l(S,{ref:P,floating:!0,for:g.value},{default:()=>[c()]})]),l("div",{class:"v-field__outline__end"},null)]),N.value&&w.value&&l(S,{ref:P,floating:!0,for:g.value},{default:()=>[c()]})])])}),{controlRef:M}}});function ze(e){const t=Object.keys(je.props).filter(a=>!Re(a)&&a!=="class"&&a!=="style");return Ve(e,t)}const T=Symbol("Forwarded refs");function k(e,t){let a=e;for(;a;){const s=Reflect.getOwnPropertyDescriptor(a,t);if(s)return s;a=Object.getPrototypeOf(a)}}function Xe(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return e[T]=a,new Proxy(e,{get(n,i){if(Reflect.has(n,i))return Reflect.get(n,i);if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const r of a)if(r.value&&Reflect.has(r.value,i)){const o=Reflect.get(r.value,i);return typeof o=="function"?o.bind(r.value):o}}},has(n,i){if(Reflect.has(n,i))return!0;if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const r of a)if(r.value&&Reflect.has(r.value,i))return!0;return!1},set(n,i,r){if(Reflect.has(n,i))return Reflect.set(n,i,r);if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const o of a)if(o.value&&Reflect.has(o.value,i))return Reflect.set(o.value,i,r);return!1},getOwnPropertyDescriptor(n,i){var o;const r=Reflect.getOwnPropertyDescriptor(n,i);if(r)return r;if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const d of a){if(!d.value)continue;const u=k(d.value,i)??("_"in d.value?k((o=d.value._)==null?void 0:o.setupState,i):void 0);if(u)return u}for(const d of a){const u=d.value&&d.value[T];if(!u)continue;const v=u.slice();for(;v.length;){const f=v.shift(),I=k(f.value,i);if(I)return I;const p=f.value&&f.value[T];p&&v.push(...p)}}}}})}export{je as V,Ue as a,Xe as b,ze as f,Ee as m,Ne as u};
